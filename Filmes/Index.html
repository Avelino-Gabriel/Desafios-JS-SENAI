<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Filmes</title>
</head>

<body>
    <!-- O segundo valor estará selecionado inicialmente -->
    <form id="form">
        <select name="select" id="select">
            <option value="valor0">Selecione o filme:</option>
            <option value="Matrix">Matrix</option>
            <option value="Star Wars"">Star Wars</option>
            <option value="Harry Potter">Harry Potter</option>
            <option value="Jurassic Park">Jurassic Park</option>
            <option value="Indiana Jones">Indiana Jones</option>
        </select>
        <input type="number" id="nota" placeholder="nota">
        <input type="submit">
    </form>
    <h1 id="mediaFilme"></h1>

    <script>
        let filmes = ['Matrix', 'Star Wars', 'Harry Potter', 'Jurassic Park', 'Indiana Jones'];
        let notas = [0, 0, 0, 0];
        let selecionar = document.getElementById('form');

        let opcaoSelecionada = document.getElementById('select');

        let index = 0;

        let Matrix = 0;
        let StarWars = 0;
        let HarryPotter = 0;
        let JurassicPark = 0;
        let IndianaJones = 0;

        selecionar.addEventListener('submit', function (e) {
            let opcao = opcaoSelecionada.value;
            e.preventDefault();

            notaDigitada = parseInt(document.getElementById("nota").value);

            filmes.forEach(function (filme) {
                if (filmes.includes(opcao)) {
                    index = filmes.indexOf(opcao);
                }
            });

            if (notaDigitada > 10) {
                alert("Digite uma nota válida");
            } else {
                notas[index] += notaDigitada;
            }

            switch (opcao) {
                case 'Matrix':
                    Matrix++;
                    media = notas[index] / Matrix;
                    break;
                case 'Star Wars':
                    StarWars++;
                    media = notas[index] / StarWars;
                    break;
                case 'Harry Potter':
                    HarryPotter++;
                    media = notas[index] / HarryPotter;
                    break;
                case 'Jurassic Park':
                    Matrix++
                    media = notas[index] / JurassicPark;
                    break;
                case 'Indiana Jones':
                    Matrix++
                    media = notas[index] / IndianaJones;
                    break;
            }
            document.getElementById('mediaFilme').innerHTML = opcao + ': ' + media.toFixed(2);
        })

    </script>
</body>

</html>